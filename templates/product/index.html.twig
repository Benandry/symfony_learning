{% extends "base.html.twig" %}

{% block title %}Analyse des produits{% endblock %}

{% block body %}
    <div style="
        font-family: Arial, sans-serif;
        background-color: #f5f6fa;
        min-height: 100vh;
        padding: 40px;
        color: #2f3640;
    ">
        <h1 style="
            text-align: center;
            color: #273c75;
            margin-bottom: 30px;
            text-transform: uppercase;
        ">
            Analyse des Produits
        </h1>

        <table style="
            width: 80%;
            margin: 0 auto;
            border-collapse: collapse;
            background-color: #fff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        ">
            <thead style="background-color: #40739e; color: white;">
                <tr>
                    <th style="padding: 12px 16px; text-align: left;">Produit</th>
                    <th style="padding: 12px 16px; text-align: left;">Analyse</th>
                    <th style="padding: 12px 16px; text-align: center;">Statut</th>
                </tr>
            </thead>
            <tbody>
                {% for item in analyses %}
                    <tr style="border-bottom: 1px solid #ddd;">
                        <td style="padding: 12px 16px;">{{ item.product }}</td>
                        <td style="padding: 12px 16px;">{{ item.analyse }}</td>
                        <td style="
                            padding: 12px 16px;
                            text-align: center;
                            color: {{ item.status == 'success' ? '#2ecc71' : '#e84118' }};
                            font-weight: bold;
                        ">
                            {{ item.status|capitalize }}
                        </td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="3" style="padding: 20px; text-align: center; color: #718093;">
                            Aucun produit analysé.
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        <div style="text-align: center; margin-top: 30px;">
            <a href="{{ path('app_product') }}" style="
                display: inline-block;
                background-color: #273c75;
                color: white;
                padding: 10px 20px;
                border-radius: 5px;
                text-decoration: none;
                transition: background-color 0.3s ease;
            " onmouseover="this.style.backgroundColor='#40739e'" onmouseout="this.style.backgroundColor='#273c75'">
                Rafraîchir l’analyse
            </a>
        </div>
    </div>
{% endblock %}
